#include "gpio_setup.h"
#include "AS5600.h"

#define PIN_MODE_INPUT
#define PIN_MODE_OUTPUT 0x01U

void GPIO_Init(void)
{
    RCC->AHB2ENR |= RCC_AHB2ENR_GPIOBEN;
    RCC->AHB2ENR |= RCC_AHB2ENR_GPIOAEN;

    AS5600_DIR_PORT->MODER = 0x00000000;
    AS5600_DIR_PORT->MODER |= (0x00U << AS5600_DIR_PIN * 2U);
    
    AS5600_DIR_PORT->OSPEEDR = 0x00000000;
    AS5600_DIR_PORT->OSPEEDR |= (0x01U << AS5600_DIR_PIN * 2U);

    AS5600_DIR_PORT->PUPDR = 0x00000000;
    AS5600_DIR_PORT->PUPDR |= (0x01U << AS5600_DIR_PIN * 2U);
}
